
<p>
    <mat-toolbar>
     <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon" (click)="homeRedirect()">
      <mat-icon>home</mat-icon>
    </button>
    <span>My App</span>
    <span class="example-spacer"></span>
    <span *ngIf="!(hasRoute('login') || hasRoute('register') || hasRoute('home'))">
    <button mat-raised-button color="accent" (click)="signOut()">Logout </button>
    </span>
    <span *ngIf="hasRoute('home') && !currentUser">
      <button mat-raised-button color="primary" routerLink="/login">
        Login
      </button>
    </span> 
      &nbsp;
    <span *ngIf="currentUser && !hasRoute('order-history') && !isInactive">
      <button mat-raised-button color="accent" routerLink="/order-history">
        Order History
      </button>
    </span>
    &nbsp;
    <span *ngIf="currentUser && hasRoute('user-dashboard')  && !isInactive && currentUser!=adminKey">
      <select style="height: 20px; width:120px;" id="sort-by" (change)="sort($event)">
        <option value="" selected disabled hidden>Sort By</option>
        <option value="Category">Category</option>
        <option value="Low"> Price Low to High</option>
        <option value="High">Price High to Low </option>
    </select>
    </span>
    <span *ngIf="currentUser && currentUser==adminKey">
      <button mat-button routerLink="/users-list">
        Users List
      </button>
    </span>
    <span *ngIf="currentUser">
      <button routerLink="/shopping-cart" mat-icon-button style="color:black">
          <mat-icon matBadge="{{itemInCart}}" matBadgeColor="warn">shopping_cart</mat-icon>
      </button>
  </span> 
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon" [matMenuTriggerFor]="share">
     <mat-icon>share</mat-icon>
   </button>
   <mat-menu #share="matMenu" yPosition="below">
    <button mat-menu-item>
      <mat-icon>email</mat-icon>
      <span>Via Email</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item>
      <mat-icon> chat</mat-icon>
      <span>Via WhatsApp</span>
    </button>
   </mat-menu>
   <span *ngIf="currentUser" >
    <button mat-icon-button class="example-icon" [matMenuTriggerFor]="menu" aria-label="Example icon-button with share icon">
        <img width="40" height="40" style="border-radius: 100%;" [src]="downloadURL" alt="assets/image-placeholder" onError="this.src='assets/image-placeholder.jpg'">
    </button>
   </span>
  <mat-menu #menu="matMenu" yPosition="below">
    <div  style="width: 200px; height:140px;border-radius:6px;">
        <p style="text-align:center;font-size:medium;color:darkslategray;font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">Signed In as</p>
        <mat-divider></mat-divider>
        <p style="font-size:medium;font-weight:bold;text-align:center">{{currentUser}}</p>
        <mat-divider></mat-divider>
        <p style="font-size:medium;text-align:center">
           <span> &nbsp;&nbsp; &nbsp;&nbsp;Edit Your Profile</span> 
            <button mat-icon-button routerLink="/user-profile" [disabled]="!currentUser">
                <mat-icon>edit</mat-icon>
            </button>
        </p>
        <mat-divider></mat-divider>
        <p style="font-size:medium;text-align:center">
          <span> &nbsp;&nbsp; &nbsp;&nbsp;Manage Addresses</span>
          <button mat-icon-button routerLink="/manage-address" [disabled]="!currentUser">
            <mat-icon>edit</mat-icon>
        </button>
        </p>
        <mat-divider></mat-divider>
        <p style="text-align:center;font-size:medium">
          <a routerLink="/change-password" style="text-decoration:none;color:blue">Change Password</a>
        </p>
        <mat-divider></mat-divider>
       
        <p style="font-size:medium;text-align:center;color:darkslategray">
            Privacy Policy
        </p>
    </div>
  </mat-menu>
  </mat-toolbar>
  </p>